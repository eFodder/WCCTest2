// Basic map configuration, image url and outer bounds (lat/long) of image
var config = {
	mapImage:'img/civic_center.png',
	topLat:-41.288355,
	botLat:-41.289295,
	leftLong:174.776200,
	rightLong:174.778355,
	zoomLevels:5,
	zoom1:1,
	zoom2:1.5,
	zoom3:2,
	zoom4:2.5,
	zoom5:3,
	feedingAlertTime:30 // in minutes
};

// This holds most of the dynamic knowledge about the map, ie the width, ratios etc
var mapdata = {};

// Holds upcoming feeding times for the day
var feedingTimes = [];

var debug = {
	isDebug:true,
	latitude:-41.288789,
	longitude:174.777541
};

// Obviously this holds a collection of the hotspots currently active on the map
var mapHotspots = [
	{
		"id":2,
		"name":"Lemur Island",
		"content":"Lemur island is a great place with leaping, frolicking lemurs aplenty.  These fantastic animals have been around since the monolithic era (previously known as Lemurus-rex) and can rend a fully sized bear in twain with its sabre sharp sarcasm.",
		"feedingTimes":[
			{
				"name":"Morning Lemur Feeding time",
				"description":"Look at all the vicious carnivorous lemurs being fed with their favourite treat of live baby pandas with a side salad of freshly picked irony",
				"time":{
					"hour":12,
					"minute":25
				}
			},
			{
				"name":"Midday Lemur Feeding time",
				"description":"Look at all the vicious carnivorous lemurs being fed with their favourite treat of live baby pandas with a side salad of freshly picked irony",
				"time":{
					"hour":14,
					"minute":45
				}
			},
			{
				"name":"Afternoon Lemur Feeding time",
				"description":"Look at all the vicious carnivorous lemurs being fed with their favourite treat of live baby pandas with a side salad of freshly picked irony",
				"time":{
					"hour":14,
					"minute":55
				}
			},
			{
				"name":"Even Lemur Feeding time",
				"description":"Look at all the vicious carnivorous lemurs being fed with their favourite treat of live baby pandas with a side salad of freshly picked irony",
				"time":{
					"hour":15,
					"minute":10
				}
			}			
		],
		"points":[
			{"pointId":0,"pageX":493,"pageY":359,"xPos":46.658478112257626,"yPos":27.09551656920078,"xPointInit":1235.78125,"yPointInit":417,"xPoint":1230.78125,"yPoint":412},
			{"pointId":1,"pageX":467,"pageY":352,"xPos":45.676815353643434,"yPos":26.64067576348278,"xPointInit":1209.78125,"yPointInit":410,"xPoint":1204.78125,"yPoint":405},
			{"pointId":2,"pageX":460,"pageY":326,"xPos":45.412521534016534,"yPos":24.951267056530213,"xPointInit":1202.78125,"yPointInit":384,"xPoint":1197.78125,"yPoint":379},
			{"pointId":3,"pageX":488,"pageY":259,"xPos":46.46969681252413,"yPos":20.59779077322937,"xPointInit":1230.78125,"yPointInit":317,"xPoint":1225.78125,"yPoint":312},
			{"pointId":4,"pageX":519,"pageY":218,"xPos":47.640140870871825,"yPos":17.93372319688109,"xPointInit":1261.78125,"yPointInit":276,"xPoint":1256.78125,"yPoint":271},
			{"pointId":5,"pageX":572,"pageY":199,"xPos":49.64122264804691,"yPos":16.699155295646523,"xPointInit":1314.78125,"yPointInit":257,"xPoint":1309.78125,"yPoint":252},
			{"pointId":6,"pageX":602,"pageY":211,"xPos":50.77391044644791,"yPos":17.478882391163094,"xPointInit":1344.78125,"yPointInit":269,"xPoint":1339.78125,"yPoint":264},
			{"pointId":7,"pageX":615,"pageY":261,"xPos":51.26474182575501,"yPos":20.727745289148796,"xPointInit":1357.78125,"yPointInit":319,"xPoint":1352.78125,"yPoint":314},
			{"pointId":8,"pageX":621,"pageY":292,"xPos":51.491279385435206,"yPos":22.742040285899932,"xPointInit":1363.78125,"yPointInit":350,"xPoint":1358.78125,"yPoint":345},
			{"pointId":9,"pageX":625,"pageY":315,"xPos":51.64230442522201,"yPos":24.236517218973358,"xPointInit":1367.78125,"yPointInit":373,"xPoint":1362.78125,"yPoint":368},
			{"pointId":10,"pageX":570,"pageY":342,"xPos":49.56571012815351,"yPos":25.99090318388564,"xPointInit":1312.78125,"yPointInit":400,"xPoint":1307.78125,"yPoint":395}
		]
	},
	{
		"id":0,
		"name":"Grassy Knoll",
		"content":"Content for Grassy Knoll",
		"feedingTimes":[
			{
				"name":"Grassy Knoll Feeding",
				"description":"Look at all the Grassy Knoll Knoll's being fed with their favourite treat of vegetarian foie gras on cumquat fritters",
				"time":{
					"hour":13,
					"minute":45
				}
			},
			{
				"name":"Grassy Knoll Feeding",
				"description":"Look at all the Grassy Knoll Knoll's being fed with their favourite treat of vegetarian foie gras on cumquat fritters",
				"time":{
					"hour":13,
					"minute":30
				}
			},
			{
				"name":"Grassy Knoll Feeding",
				"description":"Look at all the Grassy Knoll Knoll's being fed with their favourite treat of vegetarian foie gras on cumquat fritters",
				"time":{
					"hour":14,
					"minute":30
				}
			},
			{
				"name":"Grassy Knoll Feeding",
				"description":"Look at all the Grassy Knoll Knoll's being fed with their favourite treat of vegetarian foie gras on cumquat fritters",
				"time":{
					"hour":14,
					"minute":55
				}
			},
			{
				"name":"Grassy Knoll Feeding",
				"description":"Look at all the Grassy Knoll Knoll's being fed with their favourite treat of vegetarian foie gras on cumquat fritters",
				"time":{
					"hour":15,
					"minute":00
				}
			},
			{
				"name":"Grassy Knoll Feeding",
				"description":"Look at all the Grassy Knoll Knoll's being fed with their favourite treat of vegetarian foie gras on cumquat fritters",
				"time":{
					"hour":16,
					"minute":30
				}
			},
		],
		"points":[
			{
				"pointId":0,
				"pageX":641,
				"pageY":598,
				"xPos":76.9661733615222,
				"yPos":32.63301500682128,
				"xPointInit":2427,
				"yPointInit":598,
				"xPoint":2422,
				"yPoint":593
			},{
				"pointId":1,
				"pageX":721,
				"pageY":676,
				"xPos":79.50317124735729,
				"yPos":36.88949522510232,
				"xPointInit":2507,
				"yPointInit":676,
				"xPoint":2502,
				"yPoint":671
			},{
				"pointId":2,
				"pageX":835,
				"pageY":699,
				"xPos":83.1183932346723,
				"yPos":38.14461118690314,
				"xPointInit":2621,
				"yPointInit":699,
				"xPoint":2616,
				"yPoint":694
			},{
				"pointId":3,
				"pageX":936,
				"pageY":695,
				"xPos":86.32135306553911,
				"yPos":37.92633015006822,
				"xPointInit":2722,
				"yPointInit":695.0000000000001,
				"xPoint":2717,
				"yPoint":690.0000000000001
			},{
				"pointId":4,
				"pageX":1054,
				"pageY":658,
				"xPos":90.06342494714588,
				"yPos":35.90723055934516,
				"xPointInit":2840,
				"yPointInit":658,
				"xPoint":2835,
				"yPoint":653
			},{
				"pointId":5,
				"pageX":1142,
				"pageY":571,
				"xPos":92.85412262156447,
				"yPos":31.15961800818554,
				"xPointInit":2928,
				"yPointInit":571,
				"xPoint":2923,
				"yPoint":566
			},{
				"pointId":6,
				"pageX":1192,
				"pageY":472,
				"xPos":94.43974630021141,
				"yPos":25.757162346521145,
				"xPointInit":2978,
				"yPointInit":471.99999999999994,
				"xPoint":2973,
				"yPoint":466.99999999999994
			},{
				"pointId":7,
				"pageX":1214,
				"pageY":381,
				"xPos":95.13742071881606,
				"yPos":20.791268758526602,
				"xPointInit":3000,
				"yPointInit":380.99999999999994,
				"xPoint":2995,
				"yPoint":375.99999999999994
			},{
				"pointId":8,
				"pageX":1216,
				"pageY":362,
				"xPos":95.20084566596194,
				"yPos":19.75443383356071,
				"xPointInit":3002,
				"yPointInit":362,
				"xPoint":2997,
				"yPoint":357
			},{
				"pointId":9,
				"pageX":1246,
				"pageY":328,
				"xPos":96.1522198731501,
				"yPos":17.89904502046385,
				"xPointInit":3032,
				"yPointInit":328,
				"xPoint":3027,
				"yPoint":323
			},{
				"pointId":10,
				"pageX":1252,
				"pageY":286,
				"xPos":96.34249471458773,
				"yPos":15.607094133697135,
				"xPointInit":3038,
				"yPointInit":286,
				"xPoint":3033,
				"yPoint":281
			},{
				"pointId":11,
				"pageX":1235,
				"pageY":245,
				"xPos":95.80338266384777,
				"yPos":13.369713506139155,
				"xPointInit":3021,
				"yPointInit":245,
				"xPoint":3016,
				"yPoint":240
			},{
				"pointId":12,
				"pageX":1225,
				"pageY":252,
				"xPos":95.48625792811839,
				"yPos":13.751705320600273,
				"xPointInit":3011,
				"yPointInit":252,
				"xPoint":3006,
				"yPoint":247
			},{
				"pointId":13,
				"pageX":1214,
				"pageY":219,
				"xPos":95.13742071881606,
				"yPos":11.950886766712143,
				"xPointInit":3000,
				"yPointInit":219.00000000000003,
				"xPoint":2995,
				"yPoint":214.00000000000003
			},{
				"pointId":14,
				"pageX":1205,
				"pageY":201,
				"xPos":94.85200845665962,
				"yPos":10.96862210095498,
				"xPointInit":2991,
				"yPointInit":201,
				"xPoint":2986,
				"yPoint":196
			},{
				"pointId":15,
				"pageX":1216,
				"pageY":182,
				"xPos":95.20084566596194,
				"yPos":9.931787175989086,
				"xPointInit":3002,
				"yPointInit":182,
				"xPoint":2997,
				"yPoint":177
			},{
				"pointId":16,
				"pageX":1207,
				"pageY":156,
				"xPos":94.9154334038055,
				"yPos":8.512960436562073,
				"xPointInit":2993,
				"yPointInit":156,
				"xPoint":2988,
				"yPoint":151
			},{
				"pointId":17,
				"pageX":1191,
				"pageY":149,
				"xPos":94.40803382663847,
				"yPos":8.130968622100955,
				"xPointInit":2977,
				"yPointInit":149,
				"xPoint":2972,
				"yPoint":144
			},{
				"pointId":18,
				"pageX":1174,
				"pageY":136,
				"xPos":93.86892177589851,
				"yPos":7.421555252387449,
				"xPointInit":2960,
				"yPointInit":136,
				"xPoint":2955,
				"yPoint":131
			},{
				"pointId":19,
				"pageX":862,
				"pageY":1,
				"xPos":83.97463002114165,
				"yPos":0.054570259208731244,
				"xPointInit":2648,
				"yPointInit":1,
				"xPoint":2643,
				"yPoint":-4
			},{
				"pointId":20,
				"pageX":739,
				"pageY":0,
				"xPos":80.07399577167018,
				"yPos":0,
				"xPointInit":2525,
				"yPointInit":0,
				"xPoint":2520,
				"yPoint":-5
			},{
				"pointId":21,
				"pageX":717,
				"pageY":58,
				"xPos":79.37632135306553,
				"yPos":3.165075034106412,
				"xPointInit":2503,
				"yPointInit":58,
				"xPoint":2498,
				"yPoint":53
			},{
				"pointId":22,
				"pageX":699,
				"pageY":113,
				"xPos":78.80549682875264,
				"yPos":6.166439290586631,
				"xPointInit":2485,
				"yPointInit":113,
				"xPoint":2480,
				"yPoint":108
			},{
				"pointId":23,
				"pageX":662,
				"pageY":153,
				"xPos":77.6321353065539,
				"yPos":8.34924965893588,
				"xPointInit":2448,
				"yPointInit":153,
				"xPoint":2443,
				"yPoint":148
			},{
				"pointId":24,
				"pageX":624,
				"pageY":181,
				"xPos":76.42706131078224,
				"yPos":9.877216916780355,
				"xPointInit":2410,
				"yPointInit":181,
				"xPoint":2405,
				"yPoint":176
			},{
				"pointId":25,
				"pageX":627,
				"pageY":216,
				"xPos":76.52219873150105,
				"yPos":11.787175989085949,
				"xPointInit":2413,
				"yPointInit":216,
				"xPoint":2408,
				"yPoint":211
			},{
				"pointId":26,
				"pageX":623,
				"pageY":261,
				"xPos":76.3953488372093,
				"yPos":14.242837653478855,
				"xPointInit":2409,
				"yPointInit":261,
				"xPoint":2404,
				"yPoint":256
			},{
				"pointId":27,
				"pageX":603,
				"pageY":281,
				"xPos":75.76109936575052,
				"yPos":15.334242837653479,
				"xPointInit":2389,
				"yPointInit":281,
				"xPoint":2384,
				"yPoint":276
			},{
				"pointId":28,
				"pageX":611,
				"pageY":311,
				"xPos":76.01479915433403,
				"yPos":16.971350613915416,
				"xPointInit":2397,
				"yPointInit":311,
				"xPoint":2392,
				"yPoint":306
			},{
				"pointId":29,
				"pageX":597,
				"pageY":342,
				"xPos":75.5708245243129,
				"yPos":18.663028649386085,
				"xPointInit":2383,
				"yPointInit":342,
				"xPoint":2378,
				"yPoint":337
			},{
				"pointId":30,
				"pageX":601,
				"pageY":368,
				"xPos":75.69767441860465,
				"yPos":20.081855388813096,
				"xPointInit":2387,
				"yPointInit":368,
				"xPoint":2382,
				"yPoint":363
			},{
				"pointId":31,
				"pageX":606,
				"pageY":398,
				"xPos":75.85623678646934,
				"yPos":21.718963165075035,
				"xPointInit":2392,
				"yPointInit":398,
				"xPoint":2387,
				"yPoint":393
			},{
				"pointId":32,
				"pageX":596,
				"pageY":420,
				"xPos":75.53911205073996,
				"yPos":22.919508867667123,
				"xPointInit":2382,
				"yPointInit":420,
				"xPoint":2377,
				"yPoint":415
			},{
				"pointId":33,
				"pageX":596,
				"pageY":439,
				"xPos":75.53911205073996,
				"yPos":23.956343792633017,
				"xPointInit":2382,
				"yPointInit":439,
				"xPoint":2377,
				"yPoint":434
			},{
				"pointId":34,
				"pageX":608,
				"pageY":484,
				"xPos":75.91966173361521,
				"yPos":26.412005457025924,
				"xPointInit":2394,
				"yPointInit":484.00000000000006,
				"xPoint":2389,
				"yPoint":479.00000000000006
			},{
				"pointId":35,
				"pageX":629,
				"pageY":487,
				"xPos":76.58562367864693,
				"yPos":26.575716234652116,
				"xPointInit":2415,
				"yPointInit":487,
				"xPoint":2410,
				"yPoint":482
			},{
				"pointId":36,
				"pageX":647,
				"pageY":516,
				"xPos":77.15644820295982,
				"yPos":28.15825375170532,
				"xPointInit":2433,
				"yPointInit":516,
				"xPoint":2428,
				"yPoint":511
			},{
				"pointId":37,
				"pageX":652,
				"pageY":544,
				"xPos":77.31501057082453,
				"yPos":29.686221009549797,
				"xPointInit":2438,
				"yPointInit":544,
				"xPoint":2433,
				"yPoint":539
			},{
				"pointId":38,
				"pageX":639,
				"pageY":563,
				"xPos":76.90274841437632,
				"yPos":30.72305593451569,
				"xPointInit":2425,
				"yPointInit":563,
				"xPoint":2420,
				"yPoint":558
			},{
				"pointId":39,
				"pageX":632,
				"pageY":578,
				"xPos":76.68076109936575,
				"yPos":31.54160982264666,
				"xPointInit":2418,
				"yPointInit":578,
				"xPoint":2413,
				"yPoint":573
			}
		]
	}
];